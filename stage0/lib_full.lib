JMP to main

//Write
MOV R1, SP
MOV R2, 4
SUB R1, R2
MOV R2, [R1]
ADD R1, 1
MOV R3, [R1]
ADD R1, 1
MOV R4, [R1]
MOV R5, 5
PUSH R5
PUSH R2
PUSH R3
PUSH R4
PUSH R5
INT 7
POP R1
POP R2
POP R2
POP R2
POP R2
MOV R2, SP
MOV R3, 1
SUB R2, R3
MOV [R2], R1
JMP last


//READ
MOV R1,SP
MOV R2,4
SUB R1,R2
MOV R2,[R1]  //arg1
ADD R1,1
MOV R3,[R1] //arg2
ADD R1,1
MOV R4,[R1] //arg3
MOV R5,7
PUSH R5
PUSH R4
PUSH R3
PUSH R5
INT 6
POP R1
POP R2
POP R2
POP R2
POP R2
MOV R2, SP
MOV R3, 1
SUB R2, R3
MOV [R2], R1
JMP last

// EXIT
MOV R1,SP
MOV R2,

LAST
POP R9
POP R8
POP R7
RET



MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R1, [R1]
PUSH R7
PUSH R8
PUSH R9
MOV R7,R1
MOV R8,"Read"
MOV R9,"Exit"
MOV R2, "Write"
EQ R1, R2
JNZ R1, Write
MOV R1,R7
EQ R1,R8
JNZ R1,READ
MOV R1,R7
EQ R1,R9
JNZ R1,EXIT
